<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Veltrax — Local‑First Platform</title>
  <style>
    :root{
      --bg:#0f1218;--surface:#121622;--panel:#121826;--card:#151b2a;--muted:#9aa3b2;
      --text:#e6e7eb;--ring:#4c8dff;--accent:#6ba4ff;--line:#6b7a90;--chip:#0f1320;--border:#273149;
    }
    html,body{height:100%}
    body{margin:0;background:radial-gradient(1200px 600px at 65% -10%,#1b2030 0%,#0f1218 55%) no-repeat,var(--bg);color:var(--text);font:14px/1.55 system-ui,-apple-system,Segoe UI,Inter,Roboto,Helvetica,Arial}
    a{color:#8ab4ff;text-decoration:none}
    header{display:flex;align-items:center;gap:.6rem;padding:12px 16px;border-bottom:1px solid var(--border);background:rgba(0,0,0,.35)}
    .logo{width:14px;height:14px;border-radius:4px;background:linear-gradient(135deg,#6aa1ff,#8bd4ff)}
    .wrap{max-width:1200px;margin:0 auto;padding:16px}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    @media (max-width:980px){.grid{grid-template-columns:1fr}}
    .card{background:var(--surface);border:1px solid var(--border);border-radius:14px;box-shadow:0 10px 24px rgba(0,0,0,.35)}
    .pad{padding:16px 18px}
    h1,h2,h3{margin:0 0 8px}
    p{margin:6px 0}
    .muted{color:var(--muted)}
    ul.clean{margin:8px 0 0 18px}
    ul.clean li{margin:3px 0}

    /* Controls */
    .vx-bar{display:flex;gap:.6rem;align-items:center;flex-wrap:wrap;margin:0 0 .6rem}
    .vx-toggle{display:inline-flex;align-items:center;gap:.45rem}
    .vx-toggle input{width:30px;height:18px;appearance:none;background:#2a3552;border:1px solid #3a4466;border-radius:999px;position:relative;cursor:pointer}
    .vx-toggle input::after{content:"";position:absolute;top:2px;left:2px;width:14px;height:14px;background:#fff;border-radius:50%;transition:transform .15s ease}
    .vx-toggle input:checked{background:#27447e}
    .vx-toggle input:checked::after{transform:translateX(12px)}
    .vx-btn{padding:.45rem .8rem;border:1px solid var(--border);border-radius:.55rem;background:#1b1d23;color:var(--text);cursor:pointer}
    .vx-btn:hover{border-color:#4c8dff}
    .vx-mode{color:var(--muted)}

    /* SVG */
    .canvas{width:100%;height:auto;display:block}
    .edge{stroke:var(--line);stroke-width:2.25;fill:none;marker-end:url(#arrow)}
    .edge.glow{stroke:#9db7ff}
    .cap{font:13px/1.25 Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;fill:#e6e7eb}
    .cap-bg{fill:var(--chip);opacity:.92;rx:6;ry:6}
    .vn rect{fill:#121622;stroke:#2C2F36;stroke-width:1.25;rx:14;ry:14}
    .vn .ring{stroke:url(#grad);stroke-width:2;fill:none;opacity:.35}
    .vn .title{font:600 18px/1.2 Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;fill:#e6e7eb}
    .vn .b{font:14px/1.45 Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;fill:#c8cfda}
    @media (max-width:860px){.cap{font-size:12px}.vn .title{font-size:17px}.vn .b{font-size:13px}}

    /* Details */
    .triples{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:12px}
    @media (max-width:980px){.triples{grid-template-columns:1fr}}
    .teaser{margin:12px 0;border:1px dashed var(--border);border-radius:12px;padding:12px;display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;align-items:center}
    .founders{background:linear-gradient(180deg,#1a2236,#171d2b);border:1px solid #27314b;border-radius:12px;padding:14px 16px;font-weight:600;margin-top:12px}
  </style>
</head>
<body>
  <header>
    <div class="logo" aria-hidden="true"></div>
    <h1 style="font-size:16px;font-weight:700">Veltrax — Local‑First Platform</h1>
  </header>

  <main class="wrap" role="main">
    <section class="grid" aria-label="Intro">
      <article class="card pad" aria-label="What is Veltrax?">
        <h2>What is Veltrax?</h2>
        <p class="muted">Veltrax is a private, on‑premise AI platform. It connects your data, runs models locally, and shows live ROI. No third‑party LLM SaaS by default.</p>
        <ul class="clean">
          <li>Works with banking, retail, and legal data.</li>
          <li>Runs on hardware you control (workstation to DGX).</li>
          <li>Ships with real apps: Finex (Banking), Échelon (Retail), Verdict (Legal).</li>
        </ul>
        <p class="muted" style="margin-top:6px">Everything below happens inside your network.</p>
      </article>
      <article class="card pad" aria-label="Why local-first?">
        <h2>Why local‑first?</h2>
        <ul class="clean">
          <li><strong>Privacy & control:</strong> sensitive data never leaves your building.</li>
          <li><strong>Cost & speed:</strong> no per‑token API bills; low latency on your LAN.</li>
          <li><strong>Proof:</strong> everything is audit‑logged so ROI is visible.</li>
        </ul>
        <p class="muted" style="margin-top:6px">Run fully air‑gapped, or use a locked‑down DMZ relay that pulls signed packages on a schedule.</p>
      </article>
    </section>

    <!-- Diagram section -->
    <section class="card pad" style="margin-top:12px" aria-label="Veltrax Architecture">
      <div class="vx-bar">
        <label class="vx-toggle"><input id="modeSwitch" type="checkbox"/> <span>Use DMZ relay</span></label>
        <button id="ingest" class="vx-btn" type="button">Simulate ingestion</button>
        <span id="modeLabel" class="vx-mode">Mode: Air‑gapped (manual signed packages)</span>
      </div>

      <svg class="canvas" viewBox="0 0 1400 720" preserveAspectRatio="xMidYMid meet" aria-label="Veltrax data flow">
        <defs>
          <linearGradient id="grad" x1="0" x2="1" y1="0" y2="0">
            <stop offset="0" stop-color="#6ba4ff" stop-opacity="0.55"/>
            <stop offset="1" stop-color="#6ba4ff" stop-opacity="0"/>
          </linearGradient>
          <marker id="arrow" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
            <path d="M0,0 L12,6 L0,12 Z" fill="currentColor" />
          </marker>
        </defs>
        <g id="edges"></g>
        <g id="nodes"></g>
      </svg>
    </section>

    <section class="triples" aria-label="Details">
      <article class="card pad">
        <h3>ROI & Audit</h3>
        <ul class="clean">
          <li>Live savings & revenue</li>
          <li>JSONL logs → CSV/PDF</li>
          <li>Immutable hashes</li>
        </ul>
      </article>
      <article class="card pad">
        <h3>Security (simple)</h3>
        <ul class="clean">
          <li>Signed updates only; optional quorum signatures</li>
          <li>No inbound ports to Core; DMZ pulls over mTLS</li>
          <li>AES‑256 at rest. Every action is audit‑logged.</li>
        </ul>
      </article>
      <article class="card pad">
        <h3>Update modes</h3>
        <ul class="clean">
          <li><strong>Air‑gapped:</strong> carry‑in signed media, then verify & apply.</li>
          <li><strong>DMZ relay:</strong> scheduled signed pulls, verify in staging, then apply.</li>
          <li>Both paths keep full audit trails.</li>
        </ul>
      </article>
    </section>

    <section class="card pad" style="margin-top:12px" aria-label="How your data moves">
      <h2>How your data moves</h2>
      <ul class="clean">
        <li><strong>Cloud sources</strong> (vendor APIs, S3, SaaS exports) land in the <em>DMZ Update Agent</em>. We verify signatures, then deliver packages into the Core.</li>
        <li><strong>Local sources</strong> (Oracle, Postgres, CSV, SFTP) can feed the Core directly using read‑only credentials.</li>
        <li>Inside the <strong>Veltrax Core</strong> we run your apps, the local database, and a local LLM. Results stream to <strong>ROI & Audit</strong>.</li>
      </ul>
      <div class="teaser" role="region" aria-label="Next step">
        <div><strong>Next:</strong> Local LLM Deployment Simulator — see how we size models to your hardware.</div>
        <a class="vx-btn" href="PASTE_NEXT_URL_HERE">Open Local LLM Simulator</a>
      </div>
    </section>

    <section class="founders" role="note" aria-label="Founders Program">
      <span>Founders Program:</span> <strong>30% upfront, milestone deliveries. First 5 get 15% off + 1 year support.</strong>
    </section>

    <p class="muted" style="margin:14px 0 30px">© Veltrax Technologies — local‑first AI for high‑stakes industries.</p>
  </main>

  <script>
  // —— Layout constants ——
  const PAD = 18, LINE = 20, MIN_W = 300, MIN_H = 110, MOBILE_BREAK = 860, GAP_X = 80;

  // —— Model ——
  const model = {
    profile: "airgapped",
    nodes: [
      { id:"cloud", col:0, row:0, w:320, title:"Cloud Sources", bullets:[
        "Vendor APIs • S3 • SaaS exports",
        "Signed bundles — staged in DMZ"
      ]},
      { id:"local", col:0, row:1, w:320, title:"Local Sources", bullets:[
        "Oracle • Postgres • SFTP • CSV",
        "Read‑only credentials • checksums"
      ]},
      { id:"dmz", col:1, row:0, w:320, title:"DMZ Update Agent", bullets:[
        "Signed pull & staging",
        "Pull → verify • no secrets at rest"
      ]},
      { id:"core", col:2, row:0, w:330, title:"Veltrax Core", bullets:[
        "Apps: Finex • Échelon • Verdict",
        "Postgres (local) • Local LLM engine"
      ]},
      { id:"roi", col:2, row:1, w:330, title:"ROI & Audit", bullets:[
        "Live savings & revenue",
        "JSONL → CSV/PDF • Immutable hashes"
      ]}
    ],
    edges:[
      { from:"cloud", to:"dmz", caption:{dmz:"Pulled over mTLS", airgapped:"Carried via signed media"}},
      { from:"local", to:"core", caption:{dmz:"Direct read‑only sync", airgapped:"Direct read‑only sync"}},
      { from:"dmz",   to:"core", caption:{dmz:"Verified → apply", airgapped:"Verify in staging → apply"}},
      { from:"core",  to:"roi",  caption:{dmz:"Local logs → ROI/Audit", airgapped:"Local logs → ROI/Audit"}}
    ]
  };

  // —— DOM refs ——
  const svg = document.querySelector('.canvas');
  const gEdges = document.getElementById('edges');
  const gNodes = document.getElementById('nodes');
  const modeSwitch = document.getElementById('modeSwitch');
  const modeLabel = document.getElementById('modeLabel');
  const ingestBtn = document.getElementById('ingest');

  // —— Text wrapper for SVG ——
  function wrapIntoTspans(textEl, text, maxWidth, lineHeight){
    while(textEl.firstChild) textEl.removeChild(textEl.firstChild);
    const words=text.split(/\s+/); let line=[];
    let tspan=document.createElementNS(svg.namespaceURI,'tspan');
    tspan.setAttribute('x', textEl.getAttribute('x')); tspan.setAttribute('dy', 0); textEl.appendChild(tspan);
    for(let i=0;i<words.length;i++){
      line.push(words[i]); tspan.textContent=line.join(' ');
      if(tspan.getComputedTextLength()>maxWidth){
        line.pop(); tspan.textContent=line.join(' '); line=[words[i]];
        tspan=document.createElementNS(svg.namespaceURI,'tspan');
        tspan.setAttribute('x', textEl.getAttribute('x')); tspan.setAttribute('dy', lineHeight);
        tspan.textContent=words[i]; textEl.appendChild(tspan);
      }
    }
    const spans=[...textEl.querySelectorAll('tspan')];
    return Math.max(lineHeight, spans.length*lineHeight);
  }

  // —— Layout ——
  function computeLayout(){
    const w=svg.getBoundingClientRect().width||1200; const isMobile=w<MOBILE_BREAK;
    const cols=isMobile?1:3; const colW=Math.max(MIN_W, Math.min(380, (w-(GAP_X*(cols-1)))/cols));
    const x0=(w-(cols*colW+(cols-1)*GAP_X))/2; let yFlow=30;
    model.nodes.forEach(n=>{ n.w=colW; if(isMobile){ n.x=x0; n.y=yFlow; yFlow+=180; } else { n.x=x0+n.col*(colW+GAP_X); n.y=140+n.row*220; }});
    return {isMobile};
  }

  function curve(ax,ay,bx,by){
    const dx=Math.max(60,(bx-ax)*0.35); const c1x=ax+dx,c1y=ay; const c2x=bx-dx,c2y=by; return `M${ax},${ay} C${c1x},${c1y} ${c2x},${c2y} ${bx},${by}`;
  }

  function draw(){
    gEdges.innerHTML=''; gNodes.innerHTML='';
    const {isMobile}=computeLayout();

    const frag=document.createDocumentFragment();
    model.nodes.forEach(n=>{
      const g=document.createElementNS(svg.namespaceURI,'g'); g.setAttribute('class','vn'); g.setAttribute('tabindex','0'); g.setAttribute('role','button'); g.setAttribute('aria-label',n.title);
      const r=document.createElementNS(svg.namespaceURI,'rect'); r.setAttribute('x',n.x); r.setAttribute('y',n.y); r.setAttribute('width',n.w); r.setAttribute('height',MIN_H); g.appendChild(r);
      const title=document.createElementNS(svg.namespaceURI,'text'); title.setAttribute('x',n.x+PAD); title.setAttribute('y',n.y+PAD+2); title.setAttribute('class','title'); title.textContent=n.title; g.appendChild(title);
      let y=n.y+PAD+8+22; const maxW=n.w-(PAD*2)-10;
      n.bullets.forEach((line,idx)=>{
        const dot=document.createElementNS(svg.namespaceURI,'text'); dot.setAttribute('x',n.x+PAD); dot.setAttribute('y',y); dot.setAttribute('class','b'); dot.textContent='• '; g.appendChild(dot);
        const txt=document.createElementNS(svg.namespaceURI,'text'); txt.setAttribute('x',n.x+PAD+14); txt.setAttribute('y',y); txt.setAttribute('class','b'); const used=wrapIntoTspans(txt,line,maxW,LINE); g.appendChild(txt); y+=used+(idx===n.bullets.length-1?PAD:6);
      });
      const h=Math.max(MIN_H, y-n.y); r.setAttribute('height',h); n.h=h;
      const ring=document.createElementNS(svg.namespaceURI,'rect'); ring.setAttribute('x',n.x-6); ring.setAttribute('y',n.y-6); ring.setAttribute('width',n.w+12); ring.setAttribute('height',h+12); ring.setAttribute('rx',18); ring.setAttribute('ry',18); ring.setAttribute('class','ring'); g.insertBefore(ring,r);
      frag.appendChild(g);
    });
    gNodes.appendChild(frag);

    if(computeLayout().isMobile){ let y=30; [...gNodes.querySelectorAll('g.vn')].forEach((gn,i)=>{ const n=model.nodes[i]; n.y=y; const rect=gn.querySelector('rect:nth-of-type(2)'); rect.setAttribute('y',n.y); const ring=gn.querySelector('rect.ring'); ring.setAttribute('y',n.y-6); const texts=[...gn.querySelectorAll('text')]; const delta=n.y-(parseFloat(rect.getAttribute('y'))||n.y); texts.forEach(tx=>{ const y0=parseFloat(tx.getAttribute('y')); if(!isNaN(y0)) tx.setAttribute('y', y0+(delta||0));}); y+=n.h+22; }); }

    model.edges.forEach(e=>{ const a=model.nodes.find(n=>n.id===e.from), b=model.nodes.find(n=>n.id===e.to); const start={x:a.x+a.w,y:a.y+a.h/2}; const end={x:b.x,y:b.y+b.h/2}; const p=document.createElementNS(svg.namespaceURI,'path'); p.setAttribute('d',curve(start.x,start.y,end.x,end.y)); p.setAttribute('class','edge'); gEdges.appendChild(p);
      const group=document.createElementNS(svg.namespaceURI,'g'); const cap=document.createElementNS(svg.namespaceURI,'text'); cap.setAttribute('class','cap'); const label=e.caption[model.profile]||''; cap.textContent=label; const midX=(start.x+end.x)/2, midY=(start.y+end.y)/2; cap.setAttribute('x',midX); cap.setAttribute('y',midY-8); cap.setAttribute('text-anchor','middle'); group.appendChild(cap); gEdges.appendChild(group);
      requestAnimationFrame(()=>{ const bb=cap.getBBox(); const pad=6; const bg=document.createElementNS(svg.namespaceURI,'rect'); bg.setAttribute('class','cap-bg'); bg.setAttribute('x',bb.x-pad); bg.setAttribute('y',bb.y-pad); bg.setAttribute('width',bb.width+pad*2); bg.setAttribute('height',bb.height+pad*2); group.insertBefore(bg,cap); });
    });
  }

  // —— Interactions ——
  modeSwitch.addEventListener('change',()=>{ model.profile=modeSwitch.checked? 'dmz':'airgapped'; modeLabel.textContent= modeSwitch.checked? 'Mode: DMZ relay (signed pull over mTLS)': 'Mode: Air‑gapped (manual signed packages)'; draw(); });

  ingestBtn.addEventListener('click',()=>pulse());

  let rafId=0,t0=0; function pulse(){ stopPulse(); const paths=[...gEdges.querySelectorAll('path.edge')]; paths.forEach(p=>p.classList.add('glow')); t0=performance.now(); const tick=(t)=>{ const k=(t-t0)/700; paths.forEach((p,i)=>{ p.setAttribute('stroke-dasharray','6 12'); p.setAttribute('stroke-dashoffset', String(60-((k*60)+(i*10))%60)); }); rafId=requestAnimationFrame(tick); }; rafId=requestAnimationFrame(tick); setTimeout(stopPulse,3000);} 
  function stopPulse(){ cancelAnimationFrame(rafId); gEdges.querySelectorAll('path.edge').forEach(p=>{ p.removeAttribute('stroke-dasharray'); p.removeAttribute('stroke-dashoffset'); p.classList.remove('glow'); }); }

  new ResizeObserver(()=>draw()).observe(document.querySelector('main'));
  draw();
  </script>
</body>
</html>
